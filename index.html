<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Mastery Hub - Giao di·ªán m·ªõi</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="transition-colors duration-300">

    <!-- MODAL: Nh·∫≠p API Key v√† M√£ ƒëƒÉng nh·∫≠p -->
    <div id="startupModal" class="modal" style="display:none;">
      <div class="modal-content" style="max-width:400px;">
        <h2 class="text-xl font-bold mb-4 text-indigo-600">ƒêƒÉng nh·∫≠p s·ª≠ d·ª•ng ph·∫ßn m·ªÅm</h2>
        <div class="mb-4">
          <label class="block font-semibold mb-1" for="userApiKey">Nh·∫≠p API Key c·ªßa b·∫°n:</label>
          <input id="userApiKey" type="text" class="main-input w-full border p-2 rounded mb-2" placeholder="D√°n API key...">
          <div class="text-sm mt-1">
            Ch∆∞a c√≥ API key? <a href="https://aistudio.google.com/app/apikey" target="_blank" class="text-indigo-600 underline hover:text-indigo-800">Nh·∫•n v√†o ƒë√¢y ƒë·ªÉ l·∫•y t·∫°i Google AI Studio</a>
          </div>
        </div>
        <div class="mb-4">
          <label class="block font-semibold mb-1" for="userLoginCode">Nh·∫≠p m√£ ƒëƒÉng nh·∫≠p do nh√† cung c·∫•p:</label>
          <input id="userLoginCode" type="text" class="main-input w-full border p-2 rounded mb-2" placeholder="Nh·∫≠p m√£ ƒëƒÉng nh·∫≠p...">
        </div>
        <div id="startupModalError" class="text-red-600 font-semibold mb-2" style="display:none;"></div>
        <button id="startupModalSubmit" class="primary-btn w-full">L∆∞u & B·∫Øt ƒë·∫ßu</button>
      </div>
    </div>

    <div class="main-container">
        <header class="header relative">
            <div class="absolute top-0 right-0">
                <button id="theme-toggle" class="icon-btn p-2 rounded-full" title="Chuy·ªÉn ch·∫ø ƒë·ªô S√°ng/T·ªëi">
                    <svg id="theme-toggle-dark-icon" class="hidden h-6 w-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                    <svg id="theme-toggle-light-icon" class="hidden h-6 w-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 100 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
                </button>
            </div>
            <h1>Ch√†o m·ª´ng ƒë·∫øn v·ªõi <span>English Mastery Hub</span></h1>
            <p>C√¥ng c·ª• h·ªçc ti·∫øng Anh to√†n di·ªán, ƒë∆∞·ª£c h·ªó tr·ª£ b·ªüi AI</p>
        </header>

        <div class="lookup-card">
            <div class="input-group">
                <input type="text" class="main-input" id="vocabularyInput" placeholder="Nh·∫≠p t·ª´, c√¢u, ch·ªß ƒë·ªÅ ƒë·ªÉ h·ªçc...">
                <button class="icon-btn" id="btnPasteClipboard" title="D√°n t·ª´ clipboard">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/></svg>
                </button>
                <button class="icon-btn" id="btnClearInput" title="X√≥a n·ªôi dung">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/><path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/></svg>
                </button>
                <button class="primary-btn" id="btnQuickSearch">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><path d="M8 11.5v-3"></path><path d="M14 11.5v-3"></path></svg>
                    Tra & Nghe
                </button>
            </div>
            <div class="message-alert" id="messageBox"></div>
            <div id="quickSearchResults" class="mt-4"></div>

            <div class="tabs-container">
                <button class="tab-btn active" data-tab="tab-learn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
                    H·ªçc & Luy·ªán T·∫≠p
                </button>
                <button class="tab-btn" data-tab="tab-create">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
                    S√°ng T·∫°o & Vi·∫øt
                </button>
                 <button class="tab-btn" data-tab="tab-analyze">
                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
                    Ph√¢n T√≠ch & Kh√°m Ph√°
                </button>
                <button class="tab-btn" data-tab="tab-interactive">
                     <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2"></path><rect x="3" y="4" width="18" height="18" rx="2"></rect><circle cx="12" cy="10" r="2"></circle><line x1="8" y1="2" x2="8" y2="4"></line><line x1="16" y1="2" x2="16" y2="4"></line></svg>
                    T∆∞∆°ng T√°c AI
                </button>
            </div>

            <div id="tab-learn" class="tab-content active">
                <div class="features-grid">
                    <button class="feature-btn" id="btnGenerateExplanation"><span class="icon">üìö</span><span>Gi·∫£i th√≠ch T·ª´ v·ª±ng / Ng·ªØ ph√°p <span class="pro-badge">PRO</span></span></button>
                    <button class="feature-btn" id="btnGenerateExamples"><span class="icon">üí°</span><span>T·∫°o V√≠ d·ª• theo Ng·ªØ c·∫£nh</span></button>
                    <button class="feature-btn" id="btnGenerateExercise"><span class="icon">‚úçÔ∏è</span><span>B√†i t·∫≠p ƒêi·ªÅn t·ª´ & Tr·∫Øc nghi·ªám <span class="pro-badge">PRO</span></span></button>
                    <button class="feature-btn" id="btnGenerateListeningFillInTheBlank"><span class="icon">üéß</span><span>B√†i t·∫≠p Nghe & ƒêi·ªÅn t·ª´ <span class="pro-badge">PRO</span></span></button>
                    <button class="feature-btn" id="btnGenerateReadingAndQuestions"><span class="icon">üìñ</span><span>B√†i ƒë·ªçc & C√¢u h·ªèi <span class="pro-badge">PRO</span></span></button>
                    <button class="feature-btn" id="btnGenerateListeningAndQuestions"><span class="icon">üó£Ô∏è</span><span>B√†i nghe & C√¢u h·ªèi <span class="pro-badge">PRO</span></span></button>
                </div>
            </div>

            <div id="tab-create" class="tab-content">
                <div class="features-grid">
                    <button class="feature-btn" id="btnCorrectSentence"><span class="icon">üìù</span><span>S·ª≠a l·ªói Ch√≠nh t·∫£ & Ng·ªØ ph√°p <span class="pro-badge">PRO</span></span></button>
                    <button class="feature-btn" id="btnGenerateDialogue"><span class="icon">üí¨</span><span>T·∫°o ƒêo·∫°n H·ªôi tho·∫°i</span></button>
                    <button class="feature-btn" id="btnGenerateParagraphs"><span class="icon">üìÑ</span><span>Vi·∫øt ƒêo·∫°n vƒÉn theo T·ª´ kh√≥a</span></button>
                    <button class="feature-btn" id="btnSummarizeText"><span class="icon">üìã</span><span>T√≥m t·∫Øt VƒÉn b·∫£n</span></button>
                    <button class="feature-btn" id="btnDraftEmail"><span class="icon">üìß</span><span>So·∫°n th·∫£o Email chuy√™n nghi·ªáp <span class="pro-badge">PRO</span></span></button>
                </div>
            </div>

            <div id="tab-analyze" class="tab-content">
                <div class="features-grid">
                    <button class="feature-btn" id="btnCompareVocabulary"><span class="icon">‚öñÔ∏è</span><span>So s√°nh c√°c T·ª´ v·ª±ng t∆∞∆°ng t·ª±</span></button>
                    <button class="feature-btn" id="btnAnalyzeTone"><span class="icon">üé≠</span><span>Ph√¢n t√≠ch Gi·ªçng ƒëi·ªáu (Tone)</span></button>
                    <button class="feature-btn" id="btnExplainIdiom"><span class="icon">üåü</span><span>Gi·∫£i th√≠ch Th√†nh ng·ªØ (Idioms)</span></button>
                    <button class="feature-btn" id="btnCheckPopularity"><span class="icon">üìä</span><span>Ki·ªÉm tra M·ª©c ƒë·ªô Ph·ªï Bi·∫øn</span></button>
                    <button class="feature-btn" id="btnTranslateSentence"><span class="icon">üîÅ</span><span>D·ªãch c√¢u Vi·ªát - Anh</span></button>
                </div>
            </div>

            <div id="tab-interactive" class="tab-content">
                <div class="features-grid">
                    <button class="feature-btn" id="btnStartConversationSimulator"><span class="icon">ü§ñ</span><span>M√¥ ph·ªèng H·ªôi tho·∫°i v·ªõi AI <span class="pro-badge">PRO</span></span></button>
                    <button class="feature-btn" id="btnStartSpeakingPractice"><span class="icon">üéôÔ∏è</span><span>Luy·ªán ph·∫£n x·∫° n√≥i (AI) <span class="pro-badge">PRO</span></span></button>
                    <button class="feature-btn" id="btnStartWritingPractice"><span class="icon">‚úçÔ∏è</span><span>Luy·ªán vi·∫øt c√≥ S·ª≠a l·ªói (AI) <span class="pro-badge">PRO</span></span></button>
                    <button class="feature-btn" id="btnStartSpeakingPracticeManual"><span class="icon">üó£Ô∏è</span><span>Luy·ªán ph·∫£n x·∫° (Th·ªß c√¥ng)</span></button>
                </div>
            </div>

            <div class="external-links">
                <h3 class="external-links-title">C√¥ng c·ª• tra c·ª©u b√™n ngo√†i</h3>
                <div class="links-group">
                    <button class="external-btn" id="btnGoogleTranslate">Google D·ªãch</button>
                    <button class="external-btn" id="btnOxfordDictionary">T·ª´ ƒëi·ªÉn Oxford</button>
                    <button class="external-btn" id="btnYouglish">YouGlish (Ph√°t √¢m)</button>
                    <button class="external-btn" id="btnGoogleImages">Google H√¨nh ·∫£nh</button>
                </div>
            </div>

        </div>
    </div>
    
    <div id="content-results-area" class="main-container">
    </div>

    <div id="correctionModal" class="modal">
        <div class="modal-content">
            <span id="closeCorrectionModal" class="close-button">&times;</span>
            <h2 class="text-xl font-bold mb-4 text-indigo-600">Ki·ªÉm tra & S·ª≠a l·ªói</h2>
            <div id="modalCorrectionContent">
            </div>
        </div>
    </div>

    <!-- New Manual Speaking Input Modal -->
    <div id="manualSpeakingModal" class="modal">
        <div class="modal-content">
            <span id="closeManualSpeakingModal" class="close-button">&times;</span>
            <h2 class="text-xl font-bold mb-4 text-indigo-600">Luy·ªán ph·∫£n x·∫° (Th·ªß c√¥ng)</h2>
            <div class="info-card mb-4">
                <p class="mb-2 font-semibold">Nh·∫≠p c√°c c√¢u ti·∫øng Vi·ªát b·∫°n mu·ªën luy·ªán t·∫≠p, m·ªói c√¢u m·ªôt d√≤ng:</p>
                <textarea id="manualSentencesInput" class="textarea-input" rows="8" placeholder="V√≠ d·ª•:&#10;H√¥m nay tr·ªùi ƒë·∫πp qu√°.&#10;T√¥i ƒëang h·ªçc ti·∫øng Anh.&#10;B·∫°n c√≥ kh·ªèe kh√¥ng?"></textarea>
            </div>
            <div class="flex justify-end gap-3">
                <button id="startManualPracticeBtn" class="primary-btn">B·∫Øt ƒë·∫ßu Luy·ªán t·∫≠p</button>
            </div>
        </div>
    </div>
    <script src="script.js" defer></script>
</body>
</html>
